{% extends "template.html.twig" %}
    
    {% block corpsDuDocument %}

    {% for message in app.session.flashbag.get('info') %}
        <div class="info">
        <p>info: {{ message }}</p>
        </div>
    {% endfor %}

    {% for message in app.session.flashbag.get('success') %}
        <div class="success">
        <p>success: {{ message }}</p>
        </div>
    {% endfor %}

    {% for message in app.session.flashbag.get('errorExist') %}
        <div class="errorExist">
        <p>errorExist: {{ message }}</p>
        </div>
    {% endfor %}

    {% for message in app.session.flashbag.get('error') %}
        <div class="error">
        <p>error: {{ message }}</p>
        </div>
    {% endfor %}


    
    {{parent()}}
     {% for name,isChecked in app.session.get('todos') %}
        <li class="uneTodo">
            <p>{{ name }}</p>
        </li>

        {% endfor %}
    </ul>

<div class="todos">
     <h1>Votre TodoList</h1>
        {# {{ dump(todos) }} #}
        <div class="addBarre">
        <input type="text" placeholder="Ajouter une nouvelle todo ?" name="newTodo" v-model="newTodo" id="newTodo">
            <button class="addTodo" href="{{ path('todo.add', {name: newTodo.value }) }}">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Pro 6.1.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license (Commercial License) Copyright 2022 Fonticons, Inc. --><path d="M432 256c0 17.69-14.33 32.01-32 32.01H256v144c0 17.69-14.33 31.99-32 31.99s-32-14.3-32-31.99v-144H48c-17.67 0-32-14.32-32-32.01s14.33-31.99 32-31.99H192v-144c0-17.69 14.33-32.01 32-32.01s32 14.32 32 32.01v144h144C417.7 224 432 238.3 432 256z"/></svg>
            </button>
    </div>
    <ul>
    {% for todo in todos %}
        <li class="{% if loop.index is odd %}uneTodoImpair{% else %}uneTodoPair{% endif %}">
            <p class="todoName" id="isCheckedTodo"> {{ "#{todo.todoName}: " }} </p>
            <a href="{{ path('todo.detail', {id: todo.id }) }}" class="detailTodo">Detail</a>
            <a href="{{ path('todo.delete', {id: todo.id }) }}" class="detailTodo">Supprimer</a>
            {# {{dump(todo)}} #}
        </li>
    {% endfor %}
    </ul>
    </div>
{% endblock %}

